@using RequiemNexus.Data.Models

<div class="step-content">
    <h3>Review & Embrace</h3>
    <p style="color: #a0a0a0; margin-bottom: 20px;">Review your fledgling before taking the final step into the night.</p>
    
    <div style="background-color: #151515; border: 1px solid #330000; padding: 20px; border-radius: 4px;">
        <h4 style="color: white; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px;">@Character.Name</h4>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; color: #d0d0d0;">
            <div>
                <strong>Clan:</strong> @(AvailableClans.FirstOrDefault(c => c.Id == Character.ClanId)?.Name ?? "Unknown")<br/>
                <br/>
                <strong>Attributes Spent:</strong>
                <ul>
                    <li>Mental: @MentalPointsSpent pts</li>
                    <li>Physical: @PhysicalPointsSpent pts</li>
                    <li>Social: @SocialPointsSpent pts</li>
                </ul>
            </div>
            <div>
                <strong>Skills Spent:</strong>
                <ul>
                    <li>Mental: @MentalSkillsSpent pts</li>
                    <li>Physical: @PhysicalSkillsSpent pts</li>
                    <li>Social: @SocialSkillsSpent pts</li>
                </ul>
                
                <strong>Advantages:</strong>
                <ul>
                    <li>Merits: @MeritPointsSpent pts</li>
                    <li>Disciplines: @DisciplineDotsSpent dots</li>
                </ul>
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter, EditorRequired] public Character Character { get; set; } = default!;
    [Parameter] public List<Clan> AvailableClans { get; set; } = new();

    [Parameter] public int MentalPointsSpent { get; set; }
    [Parameter] public int PhysicalPointsSpent { get; set; }
    [Parameter] public int SocialPointsSpent { get; set; }

    [Parameter] public int MentalSkillsSpent { get; set; }
    [Parameter] public int PhysicalSkillsSpent { get; set; }
    [Parameter] public int SocialSkillsSpent { get; set; }

    [Parameter] public int MeritPointsSpent { get; set; }
    [Parameter] public int DisciplineDotsSpent { get; set; }
}
